<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二人麻將v0.2</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="game-area">
    <div id="ai-score-container" class="score-badge">AI: <span id="score-ai">30000</span></div>
    <div id="phase-indicator">Phase: A</div>

    <div class="player-zone ai-zone">
        <div class="hand-container">
            <div id="ai-hand" class="hand-tiles"></div>
            <div id="ai-melds" class="meld-tiles"></div>
        </div>
        <div class="river" id="ai-river"></div>
    </div>

    <div class="center-zone">
        <div id="dora-area">
            <div><div class="dora-label">DORA</div><div class="tile" id="dora-indicator"></div></div>
            <div id="ura-dora-container" style="display:none; opacity: 0.5;">
                <div class="dora-label">URA</div><div class="tile hidden" id="ura-dora-indicator"></div>
            </div>
        </div>

        <div id="status-msg" style="font-size: 24px; text-shadow: 1px 1px 4px black; font-weight: bold;">等待開始...</div>
        <div id="deck-info" style="margin-top:5px; font-size:14px; opacity: 0.8;">剩餘牌山: <span id="wall-count">0</span></div>

        <button id="next-round-btn" onclick="startNewRound()">開始下一局</button>

        <div id="naki-buttons">
            <button class="btn-naki" id="btn-chi" onclick="doCall('CHI')">吃</button>
            <button class="btn-naki" id="btn-pon" onclick="doCall('PON')">碰</button>
            <button class="btn-naki" id="btn-kan" onclick="doCall('KAN')">槓</button>
            <button class="btn-naki btn-skip" style="border-color:#666; color:#666;" onclick="skipCall()">跳過</button>
        </div>
    </div>

    <div class="player-zone user-zone">
        <div class="river" id="user-river"></div>
        <div class="hand-container">
            <div id="user-melds" class="meld-tiles"></div>
            <div id="user-hand" class="hand-tiles"></div>
        </div>
        <div class="controls">
            <button id="btn-tenpai" onclick="openDeclareModal()" disabled>宣告聽牌</button>
            <button id="btn-restart" onclick="resetFullGame()" style="background:#e53935; color:white;">全部重置</button>
        </div>
    </div>

    <div id="user-score-container" class="score-badge">YOU: <span id="score-user">30000</span></div>
</div>

<div id="info-panel">
    <h2 id="info-title" style="color:#ffb300;">Title</h2>
    <p id="info-text" style="color:white; margin: 20px 0;">Message</p>
    <button onclick="closeInfo()">確定</button>
</div>

<div class="modal-overlay" id="picker-modal">
    <div class="modal-content">
        <h2 id="picker-title">請選擇</h2>
        <p id="picker-desc">說明</p>
        <div style="margin: 10px; font-size: 24px; color: #d32f2f;" id="picked-display"></div>
        <div id="tile-picker-area"></div>
        <br>
        <button onclick="submitPicker()" style="background:#4caf50; color:white; padding: 10px 30px;">確認</button>
        <button onclick="closePicker()" style="background:#9e9e9e; color:white;">取消</button>
    </div>
</div>

<script src="js/mahjong-logic.js"></script>
<script src="js/game.js"></script>
</body>
</html>